(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97],{2578:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trailer/[id]",function(){return t(2664)}])},2664:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return h},default:function(){return d}});var i=t(5893),r=t(3204);let s=new r.ZT("http://0.0.0.0:8055/");var c=t(7294),l=t(1664),a=t.n(l),h=!0;function d(e){let{trailer:n}=e;console.log(n);let t=async(e,n,t)=>{await s.items("comments").createOne({nickname:e,description:n,note:t,trailer_id:2})},r=async()=>{let e=await s.items("comments").readByQuery();return e},[l,h]=(0,c.useState)(""),[d,u]=(0,c.useState)(""),[o,x]=(0,c.useState)(0),[j,m]=(0,c.useState)([]);return(0,c.useEffect)(()=>{r().then(e=>m(e.data))},[]),(0,i.jsxs)("div",{children:[(0,i.jsx)(a(),{href:"/",children:"Retour en arri\xe8re"}),(0,i.jsx)("hr",{}),(0,i.jsx)("h1",{children:n.title}),(0,i.jsx)("p",{children:n.description}),(0,i.jsx)("img",{src:"http://0.0.0.0:8055/assets/"+n.image}),(0,i.jsx)("iframe",{width:"640",height:"360",src:n.url}),(0,i.jsx)("hr",{}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:"Comments"}),(0,i.jsx)("ul",{children:j.map((e,n)=>(0,i.jsxs)("li",{children:[(0,i.jsx)("h5",{children:e.nickname}),(0,i.jsx)("p",{children:e.description}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h6",{children:"Note"}),(0,i.jsxs)("span",{children:[e.note,"/5"]})]})]},n))})]}),(0,i.jsx)("hr",{}),(0,i.jsxs)("form",{children:[(0,i.jsx)("h3",{children:"Write a comment"}),(0,i.jsx)("label",{htmlFor:"nickname",children:"Nickname"}),(0,i.jsx)("input",{onChange(e){h(e.target.value)},type:"text",id:"nickname"}),(0,i.jsx)("label",{htmlFor:"description",children:"Description"}),(0,i.jsx)("input",{onChange(e){u(e.target.value)},type:"text",id:"description"}),(0,i.jsx)("label",{htmlFor:"note",children:"Note"}),(0,i.jsx)("input",{onChange(e){x(Number(e.target.value))},type:"number",id:"note"}),(0,i.jsx)("button",{onClick(e){e.preventDefault(),t(l,d,o)},children:"Send comment"})]})]})}}},function(e){e.O(0,[664,204,774,888,179],function(){return e(e.s=2578)}),_N_E=e.O()}]);